<!DOCTYPE html>
<html lang="de">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17657259652"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){ dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('consent', 'default', {
      'ad_storage': 'denied',
      'analytics_storage': 'denied'
    });
    gtag('config', 'AW-17657259652');
  </script>
  
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Techbuy – Gebrauchtes Handy verkaufen | iPhone & Samsung Ankauf</title>
  <meta name="description" content="✓ Gebrauchtes Smartphone verkaufen bei Techbuy ✓ Fairer Preis ✓ Kostenloser Versand ✓ Sichere Auszahlung ✓ iPhone, Samsung & mehr ankaufen">
  
  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <style>
    :root {
      --primary: #0066FF;
      --primary-dark: #0052CC;
      --primary-light: #E6F0FF;
      --black: #1A1A1A;
      --gray-dark: #333333;
      --gray-medium: #666666;
      --gray-light: #F5F5F5;
      --gray-border: #E0E0E0;
      --white: #FFFFFF;
      --success: #00C853;
      --warning: #FF9800;
      --error: #F44336;
      --whatsapp: #25D366;
      --shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
      --shadow-hover: 0 8px 24px rgba(0, 0, 0, 0.12);
      --radius: 12px;
      --radius-lg: 16px;
      --transition: all 0.3s ease;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', sans-serif;
      color: var(--black);
      line-height: 1.6;
      background: linear-gradient(135deg, #f8fafc 0%, #e2e8f0 100%);
      min-height: 100vh;
    }

    /* Header */
    header {
      background: var(--white);
      box-shadow: var(--shadow);
      padding: 1rem 5%;
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .header-top {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1rem;
    }

    .logo {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--primary);
      text-decoration: none;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .logo-icon {
      font-size: 1.5rem;
    }

    .header-bottom {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }

    nav {
      display: flex;
      gap: 2rem;
    }

    nav a {
      color: var(--gray-medium);
      text-decoration: none;
      font-weight: 500;
      transition: var(--transition);
      padding: 0.5rem 0;
      position: relative;
    }

    nav a:hover {
      color: var(--primary);
    }

    nav a.active {
      color: var(--primary);
    }

    nav a.active::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--primary);
    }

    /* Search Bar - Updated for center positioning */
    .search-container {
      position: relative;
      width: 600px;
      margin: 0 auto;
    }

    .search-box {
      width: 100%;
      padding: 1.2rem 1.2rem 1.2rem 3.5rem;
      border: 2px solid var(--gray-border);
      border-radius: var(--radius);
      font-size: 1.1rem;
      transition: var(--transition);
      background: var(--white);
      box-shadow: var(--shadow);
    }

    .search-box:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
    }

    .search-icon {
      position: absolute;
      left: 1.2rem;
      top: 50%;
      transform: translateY(-50%);
      color: var(--gray-medium);
      font-size: 1.2rem;
    }

    .search-suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: var(--white);
      border: 2px solid var(--primary);
      border-top: none;
      border-radius: 0 0 var(--radius) var(--radius);
      box-shadow: var(--shadow-hover);
      max-height: 400px;
      overflow-y: auto;
      z-index: 1000;
      display: none;
    }

    .search-suggestions.active {
      display: block;
    }

    .suggestion-category {
      padding: 1rem 1.2rem;
      background: var(--gray-light);
      font-weight: 600;
      color: var(--gray-dark);
      font-size: 0.9rem;
      border-bottom: 1px solid var(--gray-border);
    }

    .suggestion-item {
      padding: 1rem 1.2rem;
      cursor: pointer;
      transition: var(--transition);
      border-bottom: 1px solid var(--gray-border);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .suggestion-item:hover {
      background: var(--primary-light);
    }

    .suggestion-item:last-child {
      border-bottom: none;
    }

    .suggestion-storage {
      font-size: 0.9rem;
      color: var(--gray-medium);
      background: var(--gray-light);
      padding: 0.3rem 0.6rem;
      border-radius: 20px;
    }

    /* Question Mark Tooltip */
    .question-tooltip {
      position: relative;
      display: inline-flex;
      margin-left: 0.5rem;
      cursor: pointer;
    }

    .question-tooltip i {
      color: var(--primary);
      font-size: 1rem;
    }

    .tooltip-text {
      visibility: hidden;
      width: 250px;
      background: var(--black);
      color: var(--white);
      text-align: center;
      border-radius: var(--radius);
      padding: 1rem;
      position: absolute;
      z-index: 1000;
      bottom: 125%;
      left: 50%;
      transform: translateX(-50%);
      opacity: 0;
      transition: opacity 0.3s;
      font-size: 0.9rem;
      font-weight: normal;
      line-height: 1.4;
    }

    .tooltip-text::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -5px;
      border-width: 5px;
      border-style: solid;
      border-color: var(--black) transparent transparent transparent;
    }

    .question-tooltip:hover .tooltip-text {
      visibility: visible;
      opacity: 1;
    }

    /* Rest of the CSS remains the same as before... */
    /* Hero Section */
    .hero {
      background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
      color: var(--white);
      padding: 4rem 5%;
      text-align: center;
    }

    .hero h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .hero p {
      font-size: 1.2rem;
      opacity: 0.9;
      margin-bottom: 2rem;
    }

    .features {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-top: 2rem;
    }

    .feature {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      font-weight: 500;
    }

    .feature i {
      color: var(--success);
    }

    /* Main Container */
    .container {
      display: flex;
      max-width: 1400px;
      margin: 2rem auto;
      padding: 0 5%;
      gap: 3rem;
    }

    /* Left Side - Form */
    .form-side {
      flex: 1;
      background: var(--white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      overflow: hidden;
    }

    /* Right Side - Summary */
    .summary-side {
      width: 400px;
      background: var(--white);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow);
      padding: 2rem;
      height: fit-content;
      position: sticky;
      top: 2rem;
    }

    /* Progress Steps */
    .progress-steps {
      display: flex;
      background: var(--gray-light);
      padding: 1rem 2rem;
      border-bottom: 1px solid var(--gray-border);
    }

    .step {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--gray-medium);
      font-weight: 500;
    }

    .step.active {
      color: var(--primary);
    }

    .step-number {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: var(--gray-medium);
      color: var(--white);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .step.active .step-number {
      background: var(--primary);
    }

    .step-separator {
      flex: 1;
      height: 2px;
      background: var(--gray-border);
      margin: 0 1rem;
      align-self: center;
    }

    /* Form Sections */
    .form-section {
      padding: 2.5rem;
      border-bottom: 1px solid var(--gray-border);
    }

    .form-section:last-child {
      border-bottom: none;
    }

    .form-title {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 1.5rem;
      color: var(--black);
    }

    .form-subtitle {
      font-size: 1.1rem;
      font-weight: 500;
      margin-bottom: 1rem;
      color: var(--gray-dark);
    }

    .form-group {
      margin-bottom: 1.5rem;
    }

    .form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--gray-dark);
    }

    .form-control {
      width: 100%;
      padding: 1rem;
      border: 2px solid var(--gray-border);
      border-radius: var(--radius);
      font-family: inherit;
      font-size: 1rem;
      transition: var(--transition);
      background: var(--white);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(0, 102, 255, 0.1);
    }

    /* Radio and Checkbox Groups */
    .radio-group {
      display: flex;
      gap: 2rem;
      flex-wrap: wrap;
    }

    .radio-option {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      cursor: pointer;
      padding: 0.8rem 1.2rem;
      border: 2px solid var(--gray-border);
      border-radius: var(--radius);
      transition: var(--transition);
      background: var(--white);
    }

    .radio-option:hover {
      border-color: var(--primary);
    }

    .radio-option.selected {
      border-color: var(--primary);
      background: var(--primary-light);
    }

    .radio-option input[type="radio"] {
      margin: 0;
    }

    .checkbox-group {
      display: flex;
      align-items: flex-start;
      gap: 0.8rem;
      margin-bottom: 1rem;
      padding: 1rem;
      background: var(--gray-light);
      border-radius: var(--radius);
    }

    .checkbox-group input {
      margin-top: 0.2rem;
    }

    .checkbox-group label {
      font-size: 0.9rem;
      line-height: 1.4;
      margin: 0;
    }

    /* Condition Options */
    .condition-options {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 1rem;
      margin-bottom: 1.5rem;
    }

    .condition-option {
      background: var(--white);
      border: 2px solid var(--gray-border);
      border-radius: var(--radius);
      padding: 1.5rem 1rem;
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .condition-option:hover {
      border-color: var(--primary);
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    .condition-option.selected {
      border-color: var(--primary);
      background: var(--primary-light);
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    .condition-option .name {
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--black);
    }

    .condition-option .description {
      font-size: 0.8rem;
      color: var(--gray-medium);
      line-height: 1.3;
    }

    /* Dynamic Condition Description */
    .condition-description {
      background: var(--primary-light);
      border: 1px solid var(--primary);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .condition-description h4 {
      color: var(--primary);
      margin-bottom: 0.8rem;
      font-size: 1rem;
    }

    .condition-description ul {
      list-style: none;
      padding: 0;
    }

    .condition-description li {
      padding: 0.3rem 0;
      font-size: 0.9rem;
      color: var(--gray-dark);
      position: relative;
      padding-left: 1.2rem;
    }

    .condition-description li::before {
      content: '•';
      color: var(--primary);
      position: absolute;
      left: 0;
    }

    /* Device Summary */
    .device-summary {
      text-align: center;
      margin-bottom: 2rem;
      padding-bottom: 2rem;
      border-bottom: 1px solid var(--gray-border);
    }

    .device-image {
      width: 100px;
      height: 100px;
      background: var(--gray-light);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto 1.5rem;
      font-size: 2.5rem;
      color: var(--gray-medium);
    }

    .device-name {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
      color: var(--black);
    }

    .device-storage {
      color: var(--gray-medium);
      margin-bottom: 1.5rem;
      font-size: 1rem;
    }

    .price {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 1rem;
    }

    .price-note {
      font-size: 0.9rem;
      color: var(--gray-medium);
      margin-bottom: 2rem;
    }

    /* Good to know */
    .good-to-know {
      background: var(--gray-light);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-bottom: 2rem;
    }

    .good-to-know h3 {
      font-size: 1rem;
      margin-bottom: 1rem;
      color: var(--gray-dark);
      font-weight: 600;
    }

    .good-to-know ul {
      list-style: none;
      padding: 0;
    }

    .good-to-know li {
      padding: 0.5rem 0;
      font-size: 0.9rem;
      color: var(--gray-medium);
      border-bottom: 1px solid var(--gray-border);
      position: relative;
      padding-left: 1.2rem;
    }

    .good-to-know li::before {
      content: '•';
      color: var(--primary);
      position: absolute;
      left: 0;
    }

    .good-to-know li:last-child {
      border-bottom: none;
    }

    /* IMEI Field */
    .imei-field {
      background: var(--white);
      border: 2px solid var(--gray-border);
      border-radius: var(--radius);
      padding: 1rem;
      margin-bottom: 2rem;
    }

    .imei-field label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--gray-dark);
    }

    .imei-field input {
      width: 100%;
      padding: 0.8rem;
      border: 1px solid var(--gray-border);
      border-radius: var(--radius);
      font-family: inherit;
      background: var(--white);
    }

    .imei-note {
      font-size: 0.8rem;
      color: var(--gray-medium);
      margin-top: 0.5rem;
    }

    /* Payment Details */
    .payment-details {
      background: var(--gray-light);
      border-radius: var(--radius);
      padding: 1.5rem;
      margin-top: 1rem;
      display: none;
    }

    .payment-details.active {
      display: block;
      animation: slideDown 0.3s ease-out;
    }

    @keyframes slideDown {
      from {
        opacity: 0;
        transform: translateY(-10px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* CTA Button */
    .cta-button {
      width: 100%;
      background: var(--primary);
      color: var(--white);
      border: none;
      padding: 1.5rem 2rem;
      font-size: 1.2rem;
      font-weight: 600;
      border-radius: var(--radius);
      cursor: pointer;
      transition: var(--transition);
      text-align: center;
      text-decoration: none;
      display: block;
      margin-top: 2rem;
    }

    .cta-button:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow-hover);
    }

    .cta-button:disabled {
      background: var(--gray-medium);
      cursor: not-allowed;
      transform: none;
      box-shadow: none;
    }

    /* Footer */
    footer {
      background-color: var(--black);
      color: var(--white);
      padding: 3rem 5% 2rem;
      margin-top: 4rem;
    }

    .footer-content {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 3rem;
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-column h3 {
      font-size: 1.2rem;
      margin-bottom: 1.5rem;
      color: var(--white);
    }

    .footer-column p, .footer-column address {
      color: #B3B3B3;
      font-style: normal;
      margin-bottom: 1rem;
      line-height: 1.6;
    }

    .footer-links {
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
    }

    .footer-links a {
      color: #B3B3B3;
      text-decoration: none;
      transition: var(--transition);
    }

    .footer-links a:hover {
      color: var(--white);
    }

    .legal-links {
      display: flex;
      flex-wrap: wrap;
      gap: 1.5rem;
      justify-content: center;
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }

    .legal-links a {
      color: #B3B3B3;
      text-decoration: none;
      font-size: 0.9rem;
      transition: var(--transition);
    }

    .legal-links a:hover {
      color: var(--white);
    }

    .copyright {
      text-align: center;
      margin-top: 2rem;
      color: #666;
      font-size: 0.9rem;
    }

    /* WhatsApp Floating Button */
    .whatsapp-float {
      position: fixed;
      width: 60px;
      height: 60px;
      bottom: 25px;
      left: 25px;
      background-color: var(--whatsapp);
      color: var(--white);
      border-radius: 50px;
      text-align: center;
      box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
      z-index: 1000;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: var(--transition);
      animation: pulse-whatsapp 2s infinite;
    }

    .whatsapp-float:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
    }

    .whatsapp-float i {
      font-size: 1.8rem;
    }

    .whatsapp-tooltip {
      position: absolute;
      bottom: 70px;
      left: 0;
      background: var(--white);
      color: var(--black);
      padding: 0.8rem 1.2rem;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      font-size: 0.9rem;
      font-weight: 500;
      white-space: nowrap;
      opacity: 0;
      transform: translateY(10px);
      transition: var(--transition);
      pointer-events: none;
    }

    .whatsapp-float:hover .whatsapp-tooltip {
      opacity: 1;
      transform: translateY(0);
    }

    @keyframes pulse-whatsapp {
      0% {
        box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
      }
      50% {
        box-shadow: 0 4px 25px rgba(37, 211, 102, 0.7);
      }
      100% {
        box-shadow: 0 4px 20px rgba(37, 211, 102, 0.4);
      }
    }

    /* Responsive */
    @media (max-width: 1200px) {
      .container {
        flex-direction: column;
      }
      
      .summary-side {
        width: 100%;
        position: static;
      }
      
      .condition-options {
        grid-template-columns: repeat(3, 1fr);
      }
    }

    @media (max-width: 768px) {
      .header-bottom {
        flex-direction: column;
        gap: 1rem;
      }
      
      .search-container {
        width: 100%;
      }
      
      nav {
        flex-wrap: wrap;
        justify-content: center;
      }
      
      .features {
        flex-direction: column;
        gap: 1rem;
      }
      
      .condition-options {
        grid-template-columns: repeat(2, 1fr);
      }
      
      .progress-steps {
        flex-direction: column;
        gap: 1rem;
      }
      
      .step-separator {
        display: none;
      }
    }

    @media (max-width: 480px) {
      .form-section {
        padding: 1.5rem;
      }
      
      .condition-options {
        grid-template-columns: 1fr;
      }
      
      .radio-group {
        flex-direction: column;
        gap: 0.5rem;
      }
      
      .hero h1 {
        font-size: 2rem;
      }
      
      .hero p {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- WhatsApp Floating Button -->
  <a href="https://wa.me/491630448214?text=Hallo%20Techbuy%2C%20ich%20m%C3%B6chte%20mein%20gebrauchtes%20Handy%20verkaufen." 
     class="whatsapp-float" 
     target="_blank"
     aria-label="Kontaktieren Sie uns per WhatsApp">
    <i class="fab fa-whatsapp"></i>
    <div class="whatsapp-tooltip">Rund um die Uhr per WhatsApp erreichbar!</div>
  </a>

  <!-- Header -->
  <header>
    <div class="header-top">
      <a href="#" class="logo">
        <i class="fas fa-mobile-alt logo-icon"></i>
        <span>Techbuy</span>
      </a>
    </div>
    
    <div class="header-bottom">
      <div class="search-container">
        <i class="fas fa-search search-icon"></i>
        <input type="text" class="search-box" placeholder="Gerät suchen... z.B. iPhone 13" id="searchInput">
        <div class="search-suggestions" id="searchSuggestions">
          <!-- Suggestions will be populated by JavaScript -->
        </div>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section class="hero">
    <h1>Technik raus, Geld rein!</h1>
    <p>Verwandle deine alte Elektronik in Bares - schnell, fair und unkompliziert!</p>
    
    <div class="features">
      <div class="feature">
        <i class="fas fa-check-circle"></i>
        <span>Keine Versandkosten</span>
      </div>
      <div class="feature">
        <i class="fas fa-check-circle"></i>
        <span>Keine versteckten Kosten</span>
      </div>
    </div>
  </section>

  <div class="container">
    <!-- Left Side - Form -->
    <div class="form-side">
      <!-- Progress Steps -->
      <div class="progress-steps">
        <div class="step active">
          <div class="step-number">1</div>
          <span>Wert berechnen</span>
        </div>
        <div class="step-separator"></div>
        <div class="step">
          <div class="step-number">2</div>
          <span>Verkauf abschließen</span>
        </div>
      </div>

      <!-- Device Selection -->
      <div class="form-section">
        <h2 class="form-title">Gerät suchen</h2>
        <h3 class="form-subtitle">Wert berechnen</h3>
        
        <div class="form-group">
          <label>Wie ist der Zustand deines Geräts?</label>
          <div class="radio-group">
            <label class="radio-option selected">
              <input type="radio" name="functionality" value="working" checked> 
              Gerät lässt sich einwandfrei benutzen
            </label>
            <label class="radio-option">
              <input type="radio" name="functionality" value="not-working"> 
              Gerät lässt sich nicht einwandfrei benutzen
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>
            Batterie in Ordnung?
            <span class="question-tooltip">
              <i class="fas fa-question-circle"></i>
              <span class="tooltip-text">Die Batterie-Kapazität sollte über 85% betragen und das Gerät sollte sich normal aufladen lassen.</span>
            </span>
          </label>
          <div class="radio-group">
            <label class="radio-option selected">
              <input type="radio" name="battery" value="yes" checked> Ja
            </label>
            <label class="radio-option">
              <input type="radio" name="battery" value="no"> Nein
            </label>
          </div>
        </div>
      </div>

      <!-- Condition Assessment -->
      <div class="form-section">
        <h2 class="form-title">Bewerte den äußerlichen Zustand</h2>

        <div class="condition-options">
          <div class="condition-option" data-value="new">
            <div class="name">Neu</div>
            <div class="description">Makellos, keine Gebrauchsspuren</div>
          </div>
          <div class="condition-option selected" data-value="like-new">
            <div class="name">Wie Neu</div>
            <div class="description">Kaum sichtbare Spuren</div>
          </div>
          <div class="condition-option" data-value="good">
            <div class="name">Gut</div>
            <div class="description">Leichte Gebrauchsspuren</div>
          </div>
          <div class="condition-option" data-value="okay">
            <div class="name">In Ordnung</div>
            <div class="description">Deutliche Gebrauchsspuren</div>
          </div>
          <div class="condition-option" data-value="poor">
            <div class="name">Schlecht</div>
            <div class="description">Starke Beschädigungen</div>
          </div>
        </div>

        <!-- Dynamic Condition Description -->
        <div class="condition-description" id="conditionDescription">
          <h4>Das Gerät befindet sich in einem makellosen Zustand und zeigt keinerlei Gebrauchsspuren. Dies umfasst:</h4>
          <ul>
            <li>Keine Kratzer, Abnutzungen, Kerben oder Schleifspuren</li>
            <li>Keine sichtbaren Beschädigungen am Gehäuse oder Display</li>
          </ul>
          <p><strong>Wichtiger Hinweis:</strong> Falls das Gerät eine personalisierte Gravur aufweist, wähle bitte den Zustand „In Ordnung", da dies als individuelle Anpassung gilt.</p>
        </div>
      </div>

      <!-- Personal Data -->
      <div class="form-section">
        <h2 class="form-title">Bitte gib deine persönlichen Daten ein</h2>
        
        <div class="form-group">
          <label>Anrede</label>
          <div class="radio-group">
            <label class="radio-option selected">
              <input type="radio" name="gender" value="mr" checked> Herr
            </label>
            <label class="radio-option">
              <input type="radio" name="gender" value="mrs"> Frau
            </label>
          </div>
        </div>

        <div class="form-group">
          <label>Mein Name</label>
          <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
            <input type="text" class="form-control" placeholder="Vorname">
            <input type="text" class="form-control" placeholder="Nachname">
          </div>
        </div>

        <div class="form-group">
          <label>Straße, Haus-Nr.</label>
          <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1rem;">
            <input type="text" class="form-control" placeholder="Straße">
            <input type="text" class="form-control" placeholder="Nr.">
          </div>
        </div>

        <div class="form-group">
          <label>PLZ Ort</label>
          <div style="display: grid; grid-template-columns: 1fr 2fr; gap: 1rem;">
            <input type="text" class="form-control" placeholder="PLZ">
            <input type="text" class="form-control" placeholder="Ort">
          </div>
        </div>

        <div class="form-group">
          <label>Telefon (optional)</label>
          <input type="tel" class="form-control" placeholder="Telefonnummer">
        </div>

        <div class="form-group">
          <label>Land</label>
          <select class="form-control">
            <option>Deutschland</option>
          </select>
        </div>

        <div class="form-group">
          <label>Geburtstag</label>
          <input type="date" class="form-control">
        </div>
      </div>

      <!-- Email -->
      <div class="form-section">
        <h2 class="form-title">Deine E-Mail-Adresse</h2>
        
        <div class="form-group">
          <label>E-Mail</label>
          <input type="email" class="form-control" placeholder="Deine E-Mail Adresse">
        </div>

        <div class="form-group">
          <label>E-Mail bestätigen</label>
          <input type="email" class="form-control" placeholder="Wiederhole deine E-Mail Adresse">
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="create-account">
          <label for="create-account">Jetzt Techbuy-Account erstellen</label>
        </div>
      </div>

      <!-- Payment -->
      <div class="form-section">
        <h2 class="form-title">Mein Geld möchte ich auf folgendem Weg erhalten</h2>
        
        <div class="radio-group">
          <label class="radio-option selected" data-payment="bank">
            <input type="radio" name="payment" value="bank" checked> Sepa Überweisung
          </label>
          <label class="radio-option" data-payment="paypal">
            <input type="radio" name="payment" value="paypal"> PAYPAL
          </label>
        </div>

        <!-- Bank Details -->
        <div class="payment-details active" id="bank-details">
          <div class="form-group">
            <label>IBAN</label>
            <input type="text" class="form-control" placeholder="IBAN">
          </div>
          <div class="form-group">
            <label>BIC</label>
            <input type="text" class="form-control" placeholder="BIC">
          </div>
          <div class="form-group">
            <label>Kontoinhaber</label>
            <input type="text" class="form-control" placeholder="Kontoinhaber">
          </div>
        </div>

        <!-- PayPal Details -->
        <div class="payment-details" id="paypal-details">
          <div class="form-group">
            <label>PayPal E-Mail Adresse</label>
            <input type="email" class="form-control" placeholder="Ihre PayPal E-Mail Adresse">
          </div>
        </div>
      </div>

      <!-- Terms -->
      <div class="form-section">
        <div class="checkbox-group">
          <input type="checkbox" id="terms" required>
          <label for="terms">Ich habe die Allgemeine Geschäftsbedingungen und die Datenschutz gelesen und erkläre mich damit einverstanden.</label>
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="vat" required>
          <label for="vat">Ich versichere, dass die von mir angebotenen Waren von mir ausschließlich für den privaten Gebrauch erworben worden sind und für die Geräte keine Vorsteuerabzugsberechtigung bestand oder besteht. Dementsprechend ist hierfür ein Vorsteuerabzug der Umsatzsteuer beim Finanzamt nicht geltend gemacht worden.</label>
        </div>

        <div class="checkbox-group">
          <input type="checkbox" id="newsletter">
          <label for="newsletter">Ja, ich möchte regelmäßig den TECHBUY-Newsletter mit exklusiven Vorteilen, Tipps und Tricks sowie weitere nützliche Informationen per E-Mail erhalten. Eine Abmeldung ist jederzeit möglich.</label>
        </div>
      </div>

      <!-- Final CTA -->
      <div style="padding: 2.5rem;">
        <button class="cta-button" id="sell-now-btn">
          JETZT VERKAUFEN!
        </button>

        <div style="text-align: center; margin-top: 1rem; font-size: 0.9rem; color: var(--gray-medium);">
          <p>Ich verkaufe die oben aufgeführten Geräte im beschriebenen Zustand an TECHBUY zum oben angegebenen Preis. Ich schicke die Geräte gut verpackt ein und lege ausschließlich das von TECHBUY angefragte Zubehör bei. Der versicherte Versand (bis max. 500,00 EUR) ist kostenfrei. Nach einer Funktionsprüfung durch TECHBUY erhalte ich innerhalb von 3-5 Tagen eine entsprechende Zahlung.</p>
        </div>
      </div>
    </div>

    <!-- Right Side - Summary -->
    <div class="summary-side">
      <div class="device-summary">
        <div class="device-image">
          <i class="fab fa-apple"></i>
        </div>
        <div class="device-name">Apple iPhone 13</div>
        <div class="device-storage">256 GB</div>
        <div class="price" id="displayPrice">450,00 €</div>
        <div class="price-note">Bitte beantworte die Fragen zu deinem Gerät</div>
      </div>

      <div class="good-to-know">
        <h3>Gut zu wissen:</h3>
        <ul>
          <li>Geräte mit Simlock oder anderen Sperren sind vom Ankauf ausgeschlossen.</li>
          <li>Wir übernehmen für alle gängigen Geräte eine zertifizierte Datenlöschung</li>
          <li>Du erhältst automatisch mehr Geld, falls du dein Gerät zu schlecht bewertest</li>
        </ul>
      </div>

      <div class="imei-field">
        <label>Deine IMEI</label>
        <input type="text" placeholder="IMEI Nummer">
        <div class="imei-note">Dieses Feld ist optional</div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    <div class="footer-content">
      <div class="footer-column">
        <h3>Kontakt</h3>
        <address>
          Techbuy Business<br>
          Inhaber: Ahmad Amir Popal<br>
          Krümmelstraße 2<br>
          21502 Geesthacht<br>
          Deutschland
        </address>
        <p>E-Mail: <a href="mailto:info@techbuyankauf.de">info@techbuyankauf.de</a></p>
        <p>WhatsApp: <a href="https://wa.me/491630448214">+49 163 0448214</a></p>
      </div>
      
      <div class="footer-column">
        <h3>Rechtliches</h3>
        <div class="footer-links">
          <a href="impressum.html">Impressum</a>
          <a href="Datenschutz.html">Datenschutz</a>
          <a href="AGB.html">AGB</a>
        </div>
      </div>
    </div>
    
    <div class="legal-links">
      <a href="impressum.html">Impressum</a>
      <a href="Datenschutz.html">Datenschutz</a>
      <a href="AGB.html">AGB</a>
    </div>
    
    <div class="copyright">
      &copy; 2024 Techbuy. Alle Rechte vorbehalten.
    </div>
  </footer>

  <script>
    // Enhanced Device Database with Storage Capacities
    const deviceDatabase = [
      // Apple iPhone 12 Series
      { name: 'Apple iPhone 12', storage: '64 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 mini', storage: '64 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 mini', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 mini', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 Pro', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 Pro', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 Pro', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 Pro Max', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 Pro Max', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 12 Pro Max', storage: '512 GB', category: 'Apple iPhone' },
      
      // Apple iPhone 13 Series
      { name: 'Apple iPhone 13', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 mini', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 mini', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 mini', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro', storage: '1 TB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro Max', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro Max', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro Max', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 13 Pro Max', storage: '1 TB', category: 'Apple iPhone' },
      
      // Apple iPhone 14 Series
      { name: 'Apple iPhone 14', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Plus', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Plus', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Plus', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro', storage: '1 TB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro Max', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro Max', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro Max', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 14 Pro Max', storage: '1 TB', category: 'Apple iPhone' },
      
      // Apple iPhone 15 Series
      { name: 'Apple iPhone 15', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Plus', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Plus', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Plus', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Pro', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Pro', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Pro', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Pro', storage: '1 TB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Pro Max', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Pro Max', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 15 Pro Max', storage: '1 TB', category: 'Apple iPhone' },
      
      // Apple iPhone 16 Series
      { name: 'Apple iPhone 16', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Plus', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Plus', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Plus', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Pro', storage: '128 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Pro', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Pro', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Pro', storage: '1 TB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Pro Max', storage: '256 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Pro Max', storage: '512 GB', category: 'Apple iPhone' },
      { name: 'Apple iPhone 16 Pro Max', storage: '1 TB', category: 'Apple iPhone' },
      
      // Samsung Galaxy S Series
      { name: 'Samsung Galaxy S22', storage: '128 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S22', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S22+', storage: '128 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S22+', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S22 Ultra', storage: '128 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S22 Ultra', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S22 Ultra', storage: '512 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S22 Ultra', storage: '1 TB', category: 'Samsung Galaxy' },
      
      { name: 'Samsung Galaxy S23', storage: '128 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S23', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S23+', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S23+', storage: '512 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S23 Ultra', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S23 Ultra', storage: '512 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S23 Ultra', storage: '1 TB', category: 'Samsung Galaxy' },
      
      { name: 'Samsung Galaxy S24', storage: '128 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S24', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S24+', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S24+', storage: '512 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S24 Ultra', storage: '256 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S24 Ultra', storage: '512 GB', category: 'Samsung Galaxy' },
      { name: 'Samsung Galaxy S24 Ultra', storage: '1 TB', category: 'Samsung Galaxy' },
      
      // Google Pixel Series
      { name: 'Google Pixel 8', storage: '128 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 8', storage: '256 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 8 Pro', storage: '128 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 8 Pro', storage: '256 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 8 Pro', storage: '512 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 8 Pro', storage: '1 TB', category: 'Google Pixel' },
      { name: 'Google Pixel 9', storage: '128 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 9', storage: '256 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 9 Pro', storage: '128 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 9 Pro', storage: '256 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 9 Pro', storage: '512 GB', category: 'Google Pixel' },
      { name: 'Google Pixel 9 Pro', storage: '1 TB', category: 'Google Pixel' }
    ];

    // Enhanced Price Database with different prices per device and storage
    const priceDatabase = {
      // iPhone 13 prices
      'Apple iPhone 13': {
        '128 GB': { 'new': 500, 'like-new': 450, 'good': 400, 'okay': 350, 'poor': 250 },
        '256 GB': { 'new': 550, 'like-new': 500, 'good': 450, 'okay': 400, 'poor': 300 },
        '512 GB': { 'new': 650, 'like-new': 600, 'good': 550, 'okay': 500, 'poor': 400 }
      },
      // iPhone 14 prices
      'Apple iPhone 14': {
        '128 GB': { 'new': 600, 'like-new': 550, 'good': 500, 'okay': 450, 'poor': 350 },
        '256 GB': { 'new': 650, 'like-new': 600, 'good': 550, 'okay': 500, 'poor': 400 },
        '512 GB': { 'new': 750, 'like-new': 700, 'good': 650, 'okay': 600, 'poor': 500 }
      },
      // iPhone 15 prices
      'Apple iPhone 15': {
        '128 GB': { 'new': 700, 'like-new': 650, 'good': 600, 'okay': 550, 'poor': 450 },
        '256 GB': { 'new': 750, 'like-new': 700, 'good': 650, 'okay': 600, 'poor': 500 },
        '512 GB': { 'new': 850, 'like-new': 800, 'good': 750, 'okay': 700, 'poor': 600 }
      },
      // iPhone 16 prices
      'Apple iPhone 16': {
        '128 GB': { 'new': 800, 'like-new': 750, 'good': 700, 'okay': 650, 'poor': 550 },
        '256 GB': { 'new': 850, 'like-new': 800, 'good': 750, 'okay': 700, 'poor': 600 },
        '512 GB': { 'new': 950, 'like-new': 900, 'good': 850, 'okay': 800, 'poor': 700 }
      },
      // Google Pixel prices
      'Google Pixel 9 Pro': {
        '128 GB': { 'new': 800, 'like-new': 750, 'good': 700, 'okay': 650, 'poor': 550 },
        '256 GB': { 'new': 850, 'like-new': 800, 'good': 750, 'okay': 700, 'poor': 600 },
        '512 GB': { 'new': 950, 'like-new': 900, 'good': 850, 'okay': 800, 'poor': 700 },
        '1 TB': { 'new': 1050, 'like-new': 1000, 'good': 950, 'okay': 900, 'poor': 800 }
      },
      // Default prices for devices not in database
      'default': {
        '128 GB': { 'new': 400, 'like-new': 350, 'good': 300, 'okay': 250, 'poor': 150 },
        '256 GB': { 'new': 450, 'like-new': 400, 'good': 350, 'okay': 300, 'poor': 200 },
        '512 GB': { 'new': 550, 'like-new': 500, 'good': 450, 'okay': 400, 'poor': 300 }
      }
    };

    // Condition Descriptions
    const conditionDescriptions = {
      'new': {
        title: 'Das Gerät befindet sich in einem makellosen Zustand und zeigt keinerlei Gebrauchsspuren. Dies umfasst:',
        items: [
          'Keine Kratzer, Abnutzungen, Kerben oder Schleifspuren',
          'Keine sichtbaren Beschädigungen am Gehäuse oder Display',
          'Originalverpackung und alle Zubehörteile vorhanden'
        ],
        note: 'Das Gerät wurde maximal 1-2 Mal in Betrieb genommen.'
      },
      'like-new': {
        title: 'Das Gerät befindet sich in einem makellosen Zustand und zeigt keinerlei Gebrauchsspuren. Dies umfasst:',
        items: [
          'Keine Kratzer, Abnutzungen, Kerben oder Schleifspuren',
          'Keine sichtbaren Beschädigungen am Gehäuse oder Display'
        ],
        note: 'Das Gerät wurde nur kurzzeitig genutzt und ist wie neu.'
      },
      'good': {
        title: 'Das Gerät zeigt leichte Gebrauchsspuren:',
        items: [
          'Sehr leichte, kaum sichtbare Kratzer',
          'Keine tiefen Kratzer oder Beschädigungen',
          'Display ohne Kratzer (ggf. mit Schutzfolie)'
        ],
        note: 'Normale Gebrauchsspuren für ein regelmäßig genutztes Gerät.'
      },
      'okay': {
        title: 'Das Gerät zeigt deutliche Gebrauchsspuren:',
        items: [
          'Sichtbare Kratzer und Abnutzungsspuren',
          'Evtl. kleine Dellen oder leichte Beschädigungen',
          'Display möglicherweise mit leichten Kratzern'
        ],
        note: 'Auch für Geräte mit personalisierter Gravur geeignet.'
      },
      'poor': {
        title: 'Das Gerät zeigt starke Gebrauchsspuren oder Beschädigungen:',
        items: [
          'Deutliche Kratzer, Dellen oder Beschädigungen',
          'Display mit sichtbaren Kratzern oder Haarissen',
          'Evtl. funktionale Einschränkungen'
        ],
        note: 'Trotz Zustand bieten wir faire Preise für alle Geräte.'
      }
    };

    // Global variables
    let currentSelectedDevice = null;
    let currentSelectedCondition = 'like-new';
    const searchContainer = document.querySelector('.search-container');

    // Search Functionality
    const searchInput = document.getElementById('searchInput');
    const searchSuggestions = document.getElementById('searchSuggestions');

    searchInput.addEventListener('input', function(e) {
      const query = e.target.value.toLowerCase();
      searchSuggestions.innerHTML = '';
      
      if (query.length < 2) {
        searchSuggestions.classList.remove('active');
        return;
      }
      
      const filteredDevices = deviceDatabase.filter(device => 
        device.name.toLowerCase().includes(query) || 
        device.category.toLowerCase().includes(query)
      );
      
      if (filteredDevices.length > 0) {
        // Group by category
        const categories = {};
        filteredDevices.forEach(device => {
          if (!categories[device.category]) {
            categories[device.category] = [];
          }
          categories[device.category].push(device);
        });
        
        // Create suggestion items
        Object.keys(categories).forEach(category => {
          const categoryElement = document.createElement('div');
          categoryElement.className = 'suggestion-category';
          categoryElement.textContent = category;
          searchSuggestions.appendChild(categoryElement);
          
          categories[category].forEach(device => {
            const item = document.createElement('div');
            item.className = 'suggestion-item';
            item.innerHTML = `
              <span>${device.name}</span>
              <span class="suggestion-storage">${device.storage}</span>
            `;
            item.addEventListener('click', function() {
              searchInput.value = device.name;
              searchSuggestions.classList.remove('active');
              currentSelectedDevice = device;
              updateDeviceDisplay(device);
              updatePrice(currentSelectedCondition);
            });
            searchSuggestions.appendChild(item);
          });
        });
        
        searchSuggestions.classList.add('active');
      } else {
        searchSuggestions.classList.remove('active');
      }
    });

    // Close suggestions when clicking outside
    document.addEventListener('click', function(e) {
      if (!searchContainer.contains(e.target)) {
        searchSuggestions.classList.remove('active');
      }
    });

    // Update device display when selected
    function updateDeviceDisplay(device) {
      const deviceNameElement = document.querySelector('.device-name');
      const deviceStorageElement = document.querySelector('.device-storage');
      const deviceImageElement = document.querySelector('.device-image i');
      
      deviceNameElement.textContent = device.name;
      deviceStorageElement.textContent = device.storage;
      
      // Update icon based on brand
      if (device.category.includes('Apple')) {
        deviceImageElement.className = 'fab fa-apple';
      } else if (device.category.includes('Samsung')) {
        deviceImageElement.className = 'fab fa-android';
      } else if (device.category.includes('Google')) {
        deviceImageElement.className = 'fab fa-google';
      } else {
        deviceImageElement.className = 'fas fa-mobile-alt';
      }
    }

    // Condition Selection
    document.querySelectorAll('.condition-option').forEach(option => {
      option.addEventListener('click', function() {
        document.querySelectorAll('.condition-option').forEach(opt => {
          opt.classList.remove('selected');
        });
        this.classList.add('selected');
        
        const condition = this.dataset.value;
        currentSelectedCondition = condition;
        updateConditionDescription(condition);
        updatePrice(condition);
      });
    });

    // Update Condition Description
    function updateConditionDescription(condition) {
      const desc = conditionDescriptions[condition];
      const container = document.getElementById('conditionDescription');
      
      container.innerHTML = `
        <h4>${desc.title}</h4>
        <ul>
          ${desc.items.map(item => `<li>${item}</li>`).join('')}
        </ul>
        <p><strong>Wichtiger Hinweis:</strong> ${desc.note}</p>
      `;
    }

    // Price Calculation
    function updatePrice(condition) {
      let price = 0;
      
      if (currentSelectedDevice) {
        const deviceName = currentSelectedDevice.name;
        const storage = currentSelectedDevice.storage;
        
        // Get price from database or use default
        if (priceDatabase[deviceName] && priceDatabase[deviceName][storage]) {
          price = priceDatabase[deviceName][storage][condition];
        } else if (priceDatabase.default[storage]) {
          price = priceDatabase.default[storage][condition];
        } else {
          // Fallback prices
          const fallbackPrices = { 'new': 450, 'like-new': 420, 'good': 380, 'okay': 320, 'poor': 250 };
          price = fallbackPrices[condition];
        }
      } else {
        // Default prices when no device selected
        const defaultPrices = { 'new': 450, 'like-new': 420, 'good': 380, 'okay': 320, 'poor': 250 };
        price = defaultPrices[condition];
      }
      
      const priceElement = document.getElementById('displayPrice');
      priceElement.textContent = `${price.toFixed(2).replace('.', ',')} €`;
    }

    // Payment Method Toggle
    document.querySelectorAll('.radio-option[data-payment]').forEach(option => {
      option.addEventListener('click', function() {
        const paymentMethod = this.dataset.payment;
        
        // Hide all payment details
        document.querySelectorAll('.payment-details').forEach(detail => {
          detail.classList.remove('active');
        });
        
        // Show selected payment details
        document.getElementById(`${paymentMethod}-details`).classList.add('active');
      });
    });

    // Form Validation
    document.getElementById('sell-now-btn').addEventListener('click', function(e) {
      e.preventDefault();
      
      const terms = document.getElementById('terms');
      const vat = document.getElementById('vat');
      
      if (!terms.checked) {
        alert('Bitte akzeptieren Sie die Allgemeinen Geschäftsbedingungen.');
        terms.scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
      }
      
      if (!vat.checked) {
        alert('Bitte bestätigen Sie die Umsatzsteuer-Erklärung.');
        vat.scrollIntoView({ behavior: 'smooth', block: 'center' });
        return;
      }
      
      // Google Ads Conversion Tracking
      gtag('event', 'conversion', {
        'send_to': 'AW-17657259652/your-conversion-id',
        'value': 1.0,
        'currency': 'EUR'
      });
      
      // WhatsApp Conversion Tracking
      gtag('event', 'conversion', {
        'send_to': 'AW-17657259652/your-whatsapp-conversion-id',
        'value': 1.0,
        'currency': 'EUR'
      });
      
      alert('Vielen Dank für Ihre Verkaufsanfrage! Wir bearbeiten diese umgehend und kontaktieren Sie innerhalb von 24 Stunden.');
      
      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // WhatsApp Click Tracking
    document.querySelector('.whatsapp-float').addEventListener('click', function() {
      gtag('event', 'conversion', {
        'send_to': 'AW-17657259652/your-whatsapp-conversion-id',
        'value': 1.0,
        'currency': 'EUR'
      });
    });

    // Initialize
    document.addEventListener('DOMContentLoaded', function() {
      // Set initial condition description and price
      updateConditionDescription('like-new');
      updatePrice('like-new');
      
      // Show bank details by default
      document.getElementById('bank-details').classList.add('active');
    });
  </script>
</body>
</html>
